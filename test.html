<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Test Page - Pradosh Adhikari</title>
    
    <!-- Bootstrap CSS -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #f8f9fa;
            margin: 0;
            padding: 0;
        }
        
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 9999;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            /* Auto-hide animation for deployment issues */
            animation: preloaderAutoHide 3s forwards;
        }
        
        @keyframes preloaderAutoHide {
            0%, 80% { opacity: 1; }
            100% { opacity: 0; display: none; }
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .content {
            padding: 100px 0;
        }
        
        .test-section {
            background: white;
            padding: 50px 0;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <div>Loading...</div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#hero">Pradosh Adhikari</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#hero">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">Portfolio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-4 mb-4">Pradosh Adhikari</h1>
                    <h2 class="h4 mb-4">Full Stack Developer</h2>
                    <p class="lead">Creating amazing web experiences with modern technologies</p>
                    <a href="#about" class="btn btn-light btn-lg mt-3">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="content">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="test-section text-center">
                        <h3>About Me</h3>
                        <p>This is a simplified test version of the website to check if the basic functionality works on your laptop.</p>
                        <div id="device-info" class="mt-4 p-3 bg-light rounded">
                            <strong>Loading device information...</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio" class="content bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="test-section text-center">
                        <h3>Portfolio</h3>
                        <p>Test portfolio section with some sample cards.</p>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5>Project 1</h5>
                                        <p>Sample project description</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5>Project 2</h5>
                                        <p>Sample project description</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <div class="card-body">
                                        <h5>Project 3</h5>
                                        <p>Sample project description</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="content">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="test-section text-center">
                        <h3>Contact</h3>
                        <p>Get in touch with me for any inquiries.</p>
                        <div id="browser-test" class="mt-4 p-3 bg-info text-white rounded">
                            <strong>Running browser compatibility tests...</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Enhanced preloader removal with multiple fallbacks
        (function() {
            const preloader = document.getElementById('preloader');
            let preloaderRemoved = false;
            
            function removePreloader() {
                if (preloader && !preloaderRemoved) {
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        if (preloader.parentNode) {
                            preloader.parentNode.removeChild(preloader);
                        }
                    }, 300);
                    preloaderRemoved = true;
                    console.log('Preloader removed successfully');
                }
            }
            
            // Method 1: On window load
            window.addEventListener('load', removePreloader);
            
            // Method 2: On DOM ready
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(removePreloader, 1000);
            });
            
            // Method 3: Fallback timer
            setTimeout(removePreloader, 3000);
            
            // Method 4: Check if critical elements are loaded
            const checkElements = setInterval(() => {
                const navbar = document.querySelector('.navbar');
                const hero = document.querySelector('.hero');
                if (navbar && hero) {
                    removePreloader();
                    clearInterval(checkElements);
                }
            }, 500);
        })();

        // Device information
        function updateDeviceInfo() {
            const info = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                screenSize: `${screen.width}x${screen.height}`,
                viewportSize: `${window.innerWidth}x${window.innerHeight}`,
                isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                browser: getBrowserName(),
                os: getOSName()
            };
            
            let html = '<h5>Device Information</h5>';
            for (const [key, value] of Object.entries(info)) {
                html += `<strong>${key}:</strong> ${value}<br>`;
            }
            document.getElementById('device-info').innerHTML = html;
        }

        function getBrowserName() {
            const agent = navigator.userAgent;
            if (agent.includes('Chrome')) return 'Chrome';
            if (agent.includes('Firefox')) return 'Firefox';
            if (agent.includes('Safari')) return 'Safari';
            if (agent.includes('Edge')) return 'Edge';
            return 'Unknown';
        }

        function getOSName() {
            const agent = navigator.userAgent;
            if (agent.includes('Windows')) return 'Windows';
            if (agent.includes('Mac')) return 'macOS';
            if (agent.includes('Linux')) return 'Linux';
            if (agent.includes('Android')) return 'Android';
            if (agent.includes('iOS')) return 'iOS';
            return 'Unknown';
        }

        // Browser compatibility test
        function runBrowserTests() {
            const tests = {
                'CSS Grid': CSS.supports('display', 'grid'),
                'CSS Flexbox': CSS.supports('display', 'flex'),
                'CSS Variables': CSS.supports('color', 'var(--test)'),
                'Backdrop Filter': CSS.supports('backdrop-filter', 'blur(10px)'),
                'Local Storage': 'localStorage' in window,
                'Fetch API': 'fetch' in window
            };

            let html = '<h5>Browser Compatibility</h5>';
            for (const [test, result] of Object.entries(tests)) {
                const icon = result ? '✅' : '❌';
                html += `${icon} ${test}: ${result}<br>`;
            }
            document.getElementById('browser-test').innerHTML = html;
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            updateDeviceInfo();
            runBrowserTests();
        });

        // Console logging for debugging
        console.log('Test page script loaded');
        console.log('User Agent:', navigator.userAgent);
        console.log('Platform:', navigator.platform);
        console.log('Screen:', screen.width + 'x' + screen.height);
        console.log('Viewport:', window.innerWidth + 'x' + window.innerHeight);
    </script>
</body>
</html>